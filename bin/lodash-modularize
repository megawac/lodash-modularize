#!/usr/bin/env node

var argv = require('yargs')
  .usage('Usage: $0 <input> [options]')
  .example('$0 src/**.js --format amd -o src/lodash.js', 'Generate a build for source files')
  .demand(1)

  .default('outfile', null)
  .alias('o', 'outfile')
  .nargs('o', 1)
  .describe('outfile', 'file to generate')


  .default('format', 'cjs')
  .alias('f', 'format')
  .nargs('f', 1)
  .describe('format', 'modular format to export (es6,amd,cjs)')
  

  .boolean('compile')
  .alias('compile', ['c'])
  .describe('compile', 'Whether to compile the results like lodash cli')

  .version(function() {
    return require('../package').version;
  })
  .argv;

var modularize = require('..');

modularize(argv._, argv)
  .catch(function(error) {
    console.error(error);
    process.exit(1);
  });

